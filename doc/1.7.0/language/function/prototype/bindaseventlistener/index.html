<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Prototype  v1.7_rc1 API documentation | Function#bindAsEventListener</title>
  <meta name="generator" content="PDoc" />
  
  <script type="text/javascript" src="../../../../javascripts/prototype.js" charset="utf-8"></script>
  <script type="text/javascript" src="../../../../javascripts/application.js" charset="utf-8"></script>
<script type="text/javascript" src="../../../../javascripts/tabs.js" charset="utf-8"></script>
  <script type="text/javascript" src="../../../../javascripts/item_index.js" charset="utf-8"></script>
  
  <link type="text/css" href="../../../../stylesheets/api.css" rel="stylesheet" charset="utf-8" media="screen, projection" />
<link type="text/css" href="../../../../stylesheets/pygments.css" rel="stylesheet" charset="utf-8" media="screen, projection" />
  
  <script type="text/javascript">
    PDoc.pathPrefix = '../../../../';
  </script>
</head>
  <body>

    <div id="sidebar">
      <ul id="sidebar_tabs" class="sidebar-tabs">
        <li>
          <a href="#menu_pane">Menu</a>
        </li>
        <li>
          <a href="#search_pane">Search</a>
        </li>
      </ul> <!-- .sidebar-tabs -->

      <form class="search-ribbon">
        <label>
          <span class="hidden">Search</span>
          <input type="text" id="search" size="20" title="Search" />
        </label>
      </form>
      
      <div class="sidebar-pane scrollable" id="menu_pane">
        <ul id="api_menu" class="menu-items">
            <li><div class="menu-item"><a href="../../../../ajax" class="section" title="Ajax section">Ajax section</a></div><ul class="menu-section"><li><div class="menu-item"><a href="../../../../ajax/ajax" class="namespace" title="Ajax (namespace)">Ajax</a></div><ul class=""><li><div class="menu-item"><a href="../../../../ajax/ajax/periodicalupdater" class="class" title="Ajax.PeriodicalUpdater (class)">Ajax.PeriodicalUpdater</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../ajax/ajax/request" class="class" title="Ajax.Request (class)">Ajax.Request</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../ajax/ajax/responders" class="namespace" title="Ajax.Responders (namespace)">Ajax.Responders</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../ajax/ajax/response" class="class" title="Ajax.Response (class)">Ajax.Response</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../ajax/ajax/updater" class="class" title="Ajax.Updater (class)">Ajax.Updater</a></div><ul class=""></ul></li></ul></li></ul></li>
            <li><div class="menu-item"><a href="../../../../dom" class="section" title="DOM section">DOM section</a></div><ul class="menu-section"><li><div class="menu-item"><a href="../../../../dom/dollar" class="utility" title="$ (utility)">$</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../dom/dollardollar" class="utility" title="$$ (utility)">$$</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../dom/dollarf" class="utility" title="$F (utility)">$F</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../dom/abstract" class="namespace" title="Abstract (namespace)">Abstract</a></div><ul class=""><li><div class="menu-item"><a href="../../../../dom/abstract/eventobserver" class="class" title="Abstract.EventObserver (class)">Abstract.EventObserver</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../dom/abstract/timedobserver" class="class" title="Abstract.TimedObserver (class)">Abstract.TimedObserver</a></div><ul class=""></ul></li></ul></li>
<li><div class="menu-item"><a href="../../../../dom/document" class="namespace" title="document (namespace)">document</a></div><ul class=""><li><div class="menu-item"><a href="../../../../dom/document/viewport" class="namespace" title="document.viewport (namespace)">document.viewport</a></div><ul class=""></ul></li></ul></li>
<li><div class="menu-item"><a href="../../../../dom/element" class="class" title="Element (class)">Element</a></div><ul class=""><li><div class="menu-item"><a href="../../../../dom/element/layout" class="class" title="Element.Layout (class)">Element.Layout</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../dom/element/methods" class="mixin" title="Element.Methods (mixin)">Element.Methods</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../dom/element/offset" class="class" title="Element.Offset (class)">Element.Offset</a></div><ul class=""></ul></li></ul></li>
<li><div class="menu-item"><a href="../../../../dom/event" class="class" title="Event (class)">Event</a></div><ul class=""><li><div class="menu-item"><a href="../../../../dom/event/handler" class="class" title="Event.Handler (class)">Event.Handler</a></div><ul class=""></ul></li></ul></li>
<li><div class="menu-item"><a href="../../../../dom/form" class="namespace" title="Form (namespace)">Form</a></div><ul class=""><li><div class="menu-item"><a href="../../../../dom/form/element" class="namespace" title="Form.Element (namespace)">Form.Element</a></div><ul class=""><li><div class="menu-item"><a href="../../../../dom/form/element/eventobserver" class="class" title="Form.Element.EventObserver (class)">Form.Element.EventObserver</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../dom/form/element/observer" class="class" title="Form.Element.Observer (class)">Form.Element.Observer</a></div><ul class=""></ul></li></ul></li>
<li><div class="menu-item"><a href="../../../../dom/form/eventobserver" class="class" title="Form.EventObserver (class)">Form.EventObserver</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../dom/form/observer" class="class" title="Form.Observer (class)">Form.Observer</a></div><ul class=""></ul></li></ul></li>
<li><div class="menu-item"><a href="../../../../dom/selector" class="class deprecated" title="Selector (class)">Selector</a></div><ul class=""></ul></li></ul></li>
            <li><div class="menu-item"><a href="../../../../language" class="section current-parent" title="Language section">Language section</a></div><ul class="menu-section"><li><div class="menu-item"><a href="../../../../language/dollara" class="utility" title="$A (utility)">$A</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/dollarh" class="utility" title="$H (utility)">$H</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/dollarr" class="utility" title="$R (utility)">$R</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/dollarw" class="utility" title="$w (utility)">$w</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/array" class="class" title="Array (class)">Array</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/class" class="class" title="Class (class)">Class</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/date" class="class" title="Date (class)">Date</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/enumerable" class="mixin" title="Enumerable (mixin)">Enumerable</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/function" class="class current-parent" title="Function (class)">Function</a></div><ul class=""></ul><ul><li><div class="menu-item"><a href="../../../../language/function/prototype/argumentnames" class="instance-method" title="Function#argumentNames (instance method)">argumentNames</a></div></li>
<li><div class="menu-item"><a href="../../../../language/function/prototype/bind" class="instance-method" title="Function#bind (instance method)">bind</a></div></li>
<li><div class="menu-item"><a href="../../../../language/function/prototype/bindaseventlistener" class="instance-method current" title="Function#bindAsEventListener (instance method)">bindAsEventListener</a></div></li>
<li><div class="menu-item"><a href="../../../../language/function/prototype/curry" class="instance-method" title="Function#curry (instance method)">curry</a></div></li>
<li><div class="menu-item"><a href="../../../../language/function/prototype/defer" class="instance-method" title="Function#defer (instance method)">defer</a></div></li>
<li><div class="menu-item"><a href="../../../../language/function/prototype/delay" class="instance-method" title="Function#delay (instance method)">delay</a></div></li>
<li><div class="menu-item"><a href="../../../../language/function/prototype/methodize" class="instance-method" title="Function#methodize (instance method)">methodize</a></div></li>
<li><div class="menu-item"><a href="../../../../language/function/prototype/wrap" class="instance-method" title="Function#wrap (instance method)">wrap</a></div></li></ul></li>
<li><div class="menu-item"><a href="../../../../language/hash" class="class" title="Hash (class)">Hash</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/number" class="class" title="Number (class)">Number</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/object" class="class" title="Object (class)">Object</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/objectrange" class="class" title="ObjectRange (class)">ObjectRange</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/periodicalexecuter" class="class" title="PeriodicalExecuter (class)">PeriodicalExecuter</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/prototype" class="namespace" title="Prototype (namespace)">Prototype</a></div><ul class=""><li><div class="menu-item"><a href="../../../../language/prototype/browser" class="namespace" title="Prototype.Browser (namespace)">Prototype.Browser</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/prototype/browserfeatures" class="namespace" title="Prototype.BrowserFeatures (namespace)">Prototype.BrowserFeatures</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/prototype/selector" class="namespace" title="Prototype.Selector (namespace)">Prototype.Selector</a></div><ul class=""></ul></li></ul></li>
<li><div class="menu-item"><a href="../../../../language/regexp" class="class" title="RegExp (class)">RegExp</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/string" class="class" title="String (class)">String</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/template" class="class" title="Template (class)">Template</a></div><ul class=""></ul></li>
<li><div class="menu-item"><a href="../../../../language/try" class="namespace" title="Try (namespace)">Try</a></div><ul class=""></ul></li></ul></li>
        </ul> <!--- #api_menu =-->
      </div> <!-- .sidebar-pane -->
      <div class="sidebar-pane" id="search_pane">
        <ul id="search_results" class="search-results menu-items scrollable"></ul>
      </div> <!-- .sidebar-pane -->
    </div> <!-- #sidebar -->

    <div id="page">

      <div id="main" class="page-content">
        


<ul class="breadcrumbs clearfix">
  <li><a href="../../../../">Home</a></li>
    <li>&rarr; <a href="../../../../language" title="Language section">Language section</a></li>
    <li>&rarr; <a href="../../../../language/function" title="Function (class)">Function</a></li>
    <li>&rarr; <a href="../../../../language/function/prototype/bindaseventlistener" title="Function#bindAsEventListener (instance method)">bindAsEventListener</a></li>
</ul>

  <p id="src_code_href"><a href="http://github.com/sstephenson/prototype/blob/f890b3d/src/lang/function.js#LID172">src code</a></p>

<h2 class="page-title">
  <span class="type">instance method</span> Function#bindAsEventListener
</h2>




<div class="section">
  <div class="section-title">
  </div> <!-- .section-title -->
  <div class="section-content">
    <div class="method-description">
        <pre class="syntax"><code class="ebnf">Function#bindAsEventListener(context[, args...]) &rarr; <a href="../../../../language/function" title="Function (class)">Function</a></code></pre>
  <ul class="argument-list">
      <li>
        <code class="argument-name">context</code>
          <span class="argument-types">(<code><a href="../../../../language/object" title="Object (class)">Object</a></code>)</span>
         &ndash; The object to bind to.
      </li>
      <li>
        <code class="argument-name">args</code>
          <span class="argument-types">(<code>?</code>)</span>
         &ndash; Optional arguments to curry after the event argument.
      </li>
  </ul> <!-- .argument-list -->


      <p>An event-specific variant of <code><a href="../../../../language/function/prototype/bind" title="Function#bind (instance method)">Function#bind</a></code> which ensures the function
will recieve the current event object as the first argument when
executing.</p>

<p>It is not necessary to use <code>bindAsEventListener</code> for all bound event
handlers; <code><a href="../../../../language/function/prototype/bind" title="Function#bind (instance method)">Function#bind</a></code> works well for the vast majority of cases.
<code>bindAsEventListener</code> is only needed when:</p>

<ul>
<li>Using old-style DOM0 handlers rather than handlers hooked up via
<code><a href="../../../../dom/event/observe" title="Event.observe (class method)">Event.observe</a></code>, because <code>bindAsEventListener</code> gets the event object
from the right place (even on MSIE). (If you're using <code>Event.observe</code>,
that's already handled.)</li>
<li>You want to bind an event handler and curry additional arguments but
have those arguments appear after, rather than before, the event object.
This mostly happens if the number of arguments will vary, and so you
want to know the event object is the first argument.</li>
</ul>

<h5>Example</h5>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">ContentUpdater</span> <span class="o">=</span> <span class="nx">Class</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
  <span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">initialData</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">extend</span><span class="p">({}</span><span class="o">,</span> <span class="nx">initialData</span><span class="p">);</span>
  <span class="p">}</span><span class="o">,</span>
  <span class="c">// On an event, update the content in the elements whose</span>
  <span class="c">// IDs are passed as arguments from our data</span>
  <span class="nx">updateTheseHandler</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">argIndex</span><span class="o">,</span> <span class="nx">id</span><span class="o">,</span> <span class="nx">element</span><span class="o">;</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">argIndex</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="nx">argIndex</span> <span class="o">&lt;</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="o">++</span><span class="nx">argIndex</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">id</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">argIndex</span><span class="p">];</span>
      <span class="nx">element</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">element</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">id</span><span class="p">]).</span><span class="nx">escapeHTML</span><span class="p">());</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="kd">var</span> <span class="nx">cu</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ContentUpdater</span><span class="p">({</span>
  <span class="nx">dispName</span><span class="o">:</span> <span class="s1">&#39;Joe Bloggs&#39;</span><span class="o">,</span>
  <span class="nx">dispTitle</span><span class="o">:</span> <span class="s1">&#39;Manager &lt;provisional&gt;&#39;</span><span class="o">,</span>
  <span class="nx">dispAge</span><span class="o">:</span> <span class="mi">47</span>
<span class="p">});</span>
<span class="c">// Using bindAsEventListener because of the variable arg lists:</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;btnUpdateName&#39;</span><span class="p">).</span><span class="nx">observe</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="o">,</span>
  <span class="nx">cu</span><span class="p">.</span><span class="nx">updateTheseHandler</span><span class="p">.</span><span class="nx">bindAsEventListener</span><span class="p">(</span><span class="nx">cu</span><span class="o">,</span> <span class="s1">&#39;dispName&#39;</span><span class="p">)</span>
<span class="p">);</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;btnUpdateAll&#39;</span><span class="p">).</span><span class="nx">observe</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="o">,</span>
  <span class="nx">cu</span><span class="p">.</span><span class="nx">updateTheseHandler</span><span class="p">.</span><span class="nx">bindAsEventListener</span><span class="p">(</span><span class="nx">cu</span><span class="o">,</span> <span class="s1">&#39;dispName&#39;</span><span class="o">,</span> <span class="s1">&#39;dispTitle&#39;</span><span class="o">,</span> <span class="s1">&#39;dispAge&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre>
</div>
      
      


      
    </div>
  </div> <!-- .section-content -->
</div> <!-- .section -->

      </div> <!-- #main -->
      
      <div id="footer">
        <p><a href="http://prototypejs.org">Prototype JavaScript Framework  v1.7_rc1</a> API documentation.</p>
        <p>Last updated on April 07, 2010 at 11:51 UTC. Generated by <a href="http://pdoc.org">PDoc</a>. Uses <a href="http://famfamfam.com/lab/icons/silk/" title="famfamfam.com: Silk Icons">Silk Icons</a> and portions of <a href="http://github.com/280north/aristo/tree/master" title="280north's aristo at master - GitHub">Aristo</a>.</p>
        <p>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0 Unported License</a>.</p>
      </div> <!-- #footer -->

    </div> <!-- #page -->
  </body>
</html>
